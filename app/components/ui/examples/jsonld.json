{
  "name": "jsonld-example",
  "testDocs": [
    {
      "id": "textdoc",
      "name": "Default document",
      "content": "Wintersun is a Finnish heavy metal band from Helsinki originally formed as the side project of Jari Mäenpää, then-vocalist and guitarist of folk metal band Ensiferum.",
      "processingResults": []
    }
  ],
  "pipelinePlan": "---\n\nStep name: Extract Entities and Relations\nStep type: llm\nStep input: doc\nStep description: This step utilizes an LLM to extract a comprehensive list of entities and their relationships from each document, capturing key insights and connections.\n\n---\n\nStep name: Convert to JSON-LD\nStep type: llm\nStep input: result\nStep description: This step converts the extracted entities and relationships into the JSON-LD format, making the data structured and ready for semantic web applications.\n\n---",
  "pipelineDescription": "",
  "source": {
    "id": "source_0",
    "name": "Source",
    "description": "Primary source",
    "type": "source",
    "sourceType": "text",
    "config": {
      "document": {
        "id": "textdoc",
        "name": "Default document",
        "content": "Wintersun is a Finnish heavy metal band from Helsinki originally formed as the side project of Jari Mäenpää, then-vocalist and guitarist of folk metal band Ensiferum.\n\nIn 2003, Mäenpää began pulling together songs that he had been working on since 1995. These songs followed specific themes described by Mäenpää as majestic, \"spacy\", and melodic. While Mäenpää planned to perform and record each instrument for the first album himself, he still required a drummer. He sent demos to Kai Hahto, former member of Rotten Sound, who agreed to perform the drums.\n\nAfter obtaining a record deal, Mäenpää scheduled studio time to record the first album. Ensiferum's tour to support their 2004 release was scheduled at the same time, which forced Mäenpää to request time off from the band. The band instead fired him, and Mäenpää was free to go ahead with the production of his self-titled album, Wintersun.\n\nAfter the release of Wintersun, the band found permanent members to perform shows and promote the album, although a keyboardist would never be found due to the increasingly-complex and expansive nature of the orchestrations and synth parts on the new music that Mäenpää was writing at the time. In 2006, Wintersun began work on their second and third albums, Time I and Time II, which were initially intended to be released as a single album. Recording began in May of that year, but the albums would be the recipient of years-long delays for a multitude of reasons, not the least of which was the complexity of each song's mix.\n\nTwo of the band's members, drummer Kai Hahto and bassist Jukka Koskinen, are also members of Finnish symphonic metal band Nightwish. In November 2023, Teemu Mäntysaari became a full member of American thrash metal band Megadeth, having filled-in on their most recent tour after Kiko Loureiro's departure.",
        "processingResults": [
          {
            "stepId": "extract-entities-and-relations",
            "result": "## Entities and Their Relationships\n\n### People\n1. **Jari Mäenpää**\n   - **Roles**: Vocalist and guitarist of Wintersun; former member of Ensiferum.\n   - **Relationship**: Founder of Wintersun; former member of Ensiferum which led to his departure to focus on Wintersun.\n\n2. **Kai Hahto**\n   - **Roles**: Drummer for Wintersun; former member of Rotten Sound.\n   - **Relationship**: Joined Wintersun to perform drums for their self-titled album; member of Nightwish.\n\n3. **Jukka Koskinen**\n   - **Roles**: Bassist for Wintersun and member of Nightwish.\n   - **Relationship**: Member of Wintersun; also part of Nightwish.\n\n4. **Teemu Mäntysaari**\n   - **Roles**: Guitarist; became a full member of Megadeth.\n   - **Relationship**: Has connections to Wintersun (implied, but not explicitly stated in the document).\n\n5. **Kiko Loureiro**\n   - **Roles**: Guitarist who departed from Megadeth.\n   - **Relationship**: Departure led to Teemu Mäntysaari becoming a member of Megadeth.\n\n### Organizations/Bands\n1. **Wintersun**\n   - **Type**: Finnish heavy metal band.\n   - **Relationship**: Founded by Jari Mäenpää; involved members include Kai Hahto and Jukka Koskinen.\n\n2. **Ensiferum**\n   - **Type**: Folk metal band.\n   - **Relationship**: Jari Mäenpää was the vocalist and guitarist before forming Wintersun; his departure from Ensiferum aided in establishing his project.\n\n3. **Rotten Sound**\n   - **Type**: Band.\n   - **Relationship**: Former band of Kai Hahto before he joined Wintersun.\n\n4. **Nightwish**\n   - **Type**: Finnish symphonic metal band.\n   - **Relationship**: Kai Hahto and Jukka Koskinen are members; shows the crossover of musicians between metal bands.\n\n5. **Megadeth**\n   - **Type**: American thrash metal band.\n   - **Relationship**: Teemu Mäntysaari joined as a full member following Kiko Loureiro's departure.\n\n### Locations\n1. **Helsinki, Finland**\n   - **Type**: City.\n   - **Relationship**: Origin location of Wintersun.\n\n### Concepts\n1. **Heavy Metal**\n   - **Type**: Music genre.\n   - **Relationship**: Genre of music associated with Wintersun and other bands mentioned, such as Megadeth and Nightwish.\n\n2. **Folk Metal**\n   - **Type**: Music genre.\n   - **Relationship**: Genre associated with Ensiferum, of which Mäenpää was a part before creating Wintersun.\n\n3. **Symphonic Metal**\n   - **Type**: Music genre.\n   - **Relationship**: Genre associated with Nightwish, which includes members from Wintersun.\n\n### Key Insights and Connections\n- **Foundational Changes**: The migration of Jari Mäenpää from Ensiferum to establishing Wintersun signifies a shift in his musical direction towards a self-defined project.\n- **Collaborative Nature**: The cross-membership between Wintersun, Nightwish, and the dynamics involving Megadeth illustrate a strong interconnectedness in the heavy metal music scene, showcasing how musicians can shift roles across different bands to explore various styles and opportunities.\n- **Complex Music Production**: The challenges faced by Wintersun in producing their albums, particularly with the complexity of orchestrations, indicate the artistic ambition of Mäenpää and the evolving nature of heavy metal, pushing boundaries in terms of arrangement and composition.\n\nOverall, the document paints a narrative of personal ambition, collaboration, and the intricate relationships within the heavy metal music genre, particularly in the Finnish scene.",
            "usage": {
              "prompt_tokens": 493,
              "completion_tokens": 814,
              "total_tokens": 1307
            },
            "timingMs": 5717
          },
          {
            "stepId": "convert-to-json-ld",
            "result": "```json\n{\n  \"@context\": {\n    \"@vocab\": \"http://schema.org/\",\n    \"Person\": \"http://schema.org/Person\",\n    \"Organization\": \"http://schema.org/MusicGroup\",\n    \"Place\": \"http://schema.org/Place\",\n    \"MusicGenre\": \"http://schema.org/MusicGenre\"\n  },\n  \"@graph\": [\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Jari Mäenpää\",\n      \"role\": [\"Vocalist\", \"Guitarist\"],\n      \"memberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Wintersun\"\n      },\n      \"formerMemberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Ensiferum\"\n      },\n      \"relationship\": \"Founder of Wintersun\"\n    },\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Kai Hahto\",\n      \"role\": \"Drummer\",\n      \"memberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Wintersun\"\n      },\n      \"formerMemberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Rotten Sound\"\n      },\n      \"relationship\": {\n        \"type\": \"joined\",\n        \"organization\": \"Wintersun\",\n        \"album\": \"self-titled album\"\n      }\n    },\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Jukka Koskinen\",\n      \"role\": \"Bassist\",\n      \"memberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Wintersun\"\n      },\n      \"alsoMemberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Nightwish\"\n      }\n    },\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Teemu Mäntysaari\",\n      \"role\": \"Guitarist\",\n      \"relationship\": {\n        \"type\": \"became member of\",\n        \"organization\": \"Megadeth\"\n      }\n    },\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Kiko Loureiro\",\n      \"role\": \"Guitarist\",\n      \"relationship\": {\n        \"type\": \"departed from\",\n        \"organization\": \"Megadeth\"\n      }\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Wintersun\",\n      \"type\": \"MusicGroup\",\n      \"founder\": {\n        \"@type\": \"Person\",\n        \"name\": \"Jari Mäenpää\"\n      }\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Ensiferum\",\n      \"type\": \"MusicGroup\",\n      \"formerMember\": {\n        \"@type\": \"Person\",\n        \"name\": \"Jari Mäenpää\"\n      }\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Rotten Sound\",\n      \"type\": \"MusicGroup\",\n      \"formerMember\": {\n        \"@type\": \"Person\",\n        \"name\": \"Kai Hahto\"\n      }\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Nightwish\",\n      \"type\": \"MusicGroup\",\n      \"members\": [\n        {\n          \"@type\": \"Person\",\n          \"name\": \"Kai Hahto\"\n        },\n        {\n          \"@type\": \"Person\",\n          \"name\": \"Jukka Koskinen\"\n        }\n      ]\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Megadeth\",\n      \"type\": \"MusicGroup\",\n      \"currentMember\": {\n        \"@type\": \"Person\",\n        \"name\": \"Teemu Mäntysaari\"\n      }\n    },\n    {\n      \"@type\": \"Place\",\n      \"name\": \"Helsinki, Finland\",\n      \"type\": \"City\",\n      \"relationship\": {\n        \"type\": \"origin of\",\n        \"organization\": \"Wintersun\"\n      }\n    },\n    {\n      \"@type\": \"MusicGenre\",\n      \"name\": \"Heavy Metal\",\n      \"relationship\": {\n        \"type\": \"associated with\",\n        \"organizations\": [\n          {\n            \"@type\": \"Organization\",\n            \"name\": \"Wintersun\"\n          },\n          {\n            \"@type\": \"Organization\",\n            \"name\": \"Megadeth\"\n          },\n          {\n            \"@type\": \"Organization\",\n            \"name\": \"Nightwish\"\n          }\n        ]\n      }\n    },\n    {\n      \"@type\": \"MusicGenre\",\n      \"name\": \"Folk Metal\",\n      \"relationship\": {\n        \"type\": \"associated with\",\n        \"organization\": {\n          \"@type\": \"Organization\",\n          \"name\": \"Ensiferum\"\n        }\n      }\n    },\n    {\n      \"@type\": \"MusicGenre\",\n      \"name\": \"Symphonic Metal\",\n      \"relationship\": {\n        \"type\": \"associated with\",\n        \"organization\": {\n          \"@type\": \"Organization\",\n          \"name\": \"Nightwish\"\n        }\n      }\n    }\n  ]\n}\n```",
            "usage": {
              "prompt_tokens": 891,
              "completion_tokens": 1043,
              "total_tokens": 1934
            },
            "timingMs": 8759
          }
        ]
      }
    },
    "connectsTo": [
      "extract-entities-and-relations"
    ],
    "expanded": true
  },
  "output": {
    "id": "output_0",
    "name": "Output",
    "description": "Primary output",
    "type": "output",
    "outputType": "basic",
    "config": {
      "results": [
        {
          "id": "textdoc",
          "name": "Default document",
          "content": "Wintersun is a Finnish heavy metal band from Helsinki originally formed as the side project of Jari Mäenpää, then-vocalist and guitarist of folk metal band Ensiferum.\n\nIn 2003, Mäenpää began pulling together songs that he had been working on since 1995. These songs followed specific themes described by Mäenpää as majestic, \"spacy\", and melodic. While Mäenpää planned to perform and record each instrument for the first album himself, he still required a drummer. He sent demos to Kai Hahto, former member of Rotten Sound, who agreed to perform the drums.\n\nAfter obtaining a record deal, Mäenpää scheduled studio time to record the first album. Ensiferum's tour to support their 2004 release was scheduled at the same time, which forced Mäenpää to request time off from the band. The band instead fired him, and Mäenpää was free to go ahead with the production of his self-titled album, Wintersun.\n\nAfter the release of Wintersun, the band found permanent members to perform shows and promote the album, although a keyboardist would never be found due to the increasingly-complex and expansive nature of the orchestrations and synth parts on the new music that Mäenpää was writing at the time. In 2006, Wintersun began work on their second and third albums, Time I and Time II, which were initially intended to be released as a single album. Recording began in May of that year, but the albums would be the recipient of years-long delays for a multitude of reasons, not the least of which was the complexity of each song's mix.\n\nTwo of the band's members, drummer Kai Hahto and bassist Jukka Koskinen, are also members of Finnish symphonic metal band Nightwish. In November 2023, Teemu Mäntysaari became a full member of American thrash metal band Megadeth, having filled-in on their most recent tour after Kiko Loureiro's departure.",
          "processingResults": [
            {
              "stepId": "extract-entities-and-relations",
              "result": "## Entities and Their Relationships\n\n### People\n1. **Jari Mäenpää**\n   - **Roles**: Vocalist and guitarist of Wintersun; former member of Ensiferum.\n   - **Relationship**: Founder of Wintersun; former member of Ensiferum which led to his departure to focus on Wintersun.\n\n2. **Kai Hahto**\n   - **Roles**: Drummer for Wintersun; former member of Rotten Sound.\n   - **Relationship**: Joined Wintersun to perform drums for their self-titled album; member of Nightwish.\n\n3. **Jukka Koskinen**\n   - **Roles**: Bassist for Wintersun and member of Nightwish.\n   - **Relationship**: Member of Wintersun; also part of Nightwish.\n\n4. **Teemu Mäntysaari**\n   - **Roles**: Guitarist; became a full member of Megadeth.\n   - **Relationship**: Has connections to Wintersun (implied, but not explicitly stated in the document).\n\n5. **Kiko Loureiro**\n   - **Roles**: Guitarist who departed from Megadeth.\n   - **Relationship**: Departure led to Teemu Mäntysaari becoming a member of Megadeth.\n\n### Organizations/Bands\n1. **Wintersun**\n   - **Type**: Finnish heavy metal band.\n   - **Relationship**: Founded by Jari Mäenpää; involved members include Kai Hahto and Jukka Koskinen.\n\n2. **Ensiferum**\n   - **Type**: Folk metal band.\n   - **Relationship**: Jari Mäenpää was the vocalist and guitarist before forming Wintersun; his departure from Ensiferum aided in establishing his project.\n\n3. **Rotten Sound**\n   - **Type**: Band.\n   - **Relationship**: Former band of Kai Hahto before he joined Wintersun.\n\n4. **Nightwish**\n   - **Type**: Finnish symphonic metal band.\n   - **Relationship**: Kai Hahto and Jukka Koskinen are members; shows the crossover of musicians between metal bands.\n\n5. **Megadeth**\n   - **Type**: American thrash metal band.\n   - **Relationship**: Teemu Mäntysaari joined as a full member following Kiko Loureiro's departure.\n\n### Locations\n1. **Helsinki, Finland**\n   - **Type**: City.\n   - **Relationship**: Origin location of Wintersun.\n\n### Concepts\n1. **Heavy Metal**\n   - **Type**: Music genre.\n   - **Relationship**: Genre of music associated with Wintersun and other bands mentioned, such as Megadeth and Nightwish.\n\n2. **Folk Metal**\n   - **Type**: Music genre.\n   - **Relationship**: Genre associated with Ensiferum, of which Mäenpää was a part before creating Wintersun.\n\n3. **Symphonic Metal**\n   - **Type**: Music genre.\n   - **Relationship**: Genre associated with Nightwish, which includes members from Wintersun.\n\n### Key Insights and Connections\n- **Foundational Changes**: The migration of Jari Mäenpää from Ensiferum to establishing Wintersun signifies a shift in his musical direction towards a self-defined project.\n- **Collaborative Nature**: The cross-membership between Wintersun, Nightwish, and the dynamics involving Megadeth illustrate a strong interconnectedness in the heavy metal music scene, showcasing how musicians can shift roles across different bands to explore various styles and opportunities.\n- **Complex Music Production**: The challenges faced by Wintersun in producing their albums, particularly with the complexity of orchestrations, indicate the artistic ambition of Mäenpää and the evolving nature of heavy metal, pushing boundaries in terms of arrangement and composition.\n\nOverall, the document paints a narrative of personal ambition, collaboration, and the intricate relationships within the heavy metal music genre, particularly in the Finnish scene.",
              "usage": {
                "prompt_tokens": 493,
                "completion_tokens": 814,
                "total_tokens": 1307
              },
              "timingMs": 5717
            },
            {
              "stepId": "convert-to-json-ld",
              "result": "```json\n{\n  \"@context\": {\n    \"@vocab\": \"http://schema.org/\",\n    \"Person\": \"http://schema.org/Person\",\n    \"Organization\": \"http://schema.org/MusicGroup\",\n    \"Place\": \"http://schema.org/Place\",\n    \"MusicGenre\": \"http://schema.org/MusicGenre\"\n  },\n  \"@graph\": [\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Jari Mäenpää\",\n      \"role\": [\"Vocalist\", \"Guitarist\"],\n      \"memberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Wintersun\"\n      },\n      \"formerMemberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Ensiferum\"\n      },\n      \"relationship\": \"Founder of Wintersun\"\n    },\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Kai Hahto\",\n      \"role\": \"Drummer\",\n      \"memberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Wintersun\"\n      },\n      \"formerMemberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Rotten Sound\"\n      },\n      \"relationship\": {\n        \"type\": \"joined\",\n        \"organization\": \"Wintersun\",\n        \"album\": \"self-titled album\"\n      }\n    },\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Jukka Koskinen\",\n      \"role\": \"Bassist\",\n      \"memberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Wintersun\"\n      },\n      \"alsoMemberOf\": {\n        \"@type\": \"Organization\",\n        \"name\": \"Nightwish\"\n      }\n    },\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Teemu Mäntysaari\",\n      \"role\": \"Guitarist\",\n      \"relationship\": {\n        \"type\": \"became member of\",\n        \"organization\": \"Megadeth\"\n      }\n    },\n    {\n      \"@type\": \"Person\",\n      \"name\": \"Kiko Loureiro\",\n      \"role\": \"Guitarist\",\n      \"relationship\": {\n        \"type\": \"departed from\",\n        \"organization\": \"Megadeth\"\n      }\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Wintersun\",\n      \"type\": \"MusicGroup\",\n      \"founder\": {\n        \"@type\": \"Person\",\n        \"name\": \"Jari Mäenpää\"\n      }\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Ensiferum\",\n      \"type\": \"MusicGroup\",\n      \"formerMember\": {\n        \"@type\": \"Person\",\n        \"name\": \"Jari Mäenpää\"\n      }\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Rotten Sound\",\n      \"type\": \"MusicGroup\",\n      \"formerMember\": {\n        \"@type\": \"Person\",\n        \"name\": \"Kai Hahto\"\n      }\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Nightwish\",\n      \"type\": \"MusicGroup\",\n      \"members\": [\n        {\n          \"@type\": \"Person\",\n          \"name\": \"Kai Hahto\"\n        },\n        {\n          \"@type\": \"Person\",\n          \"name\": \"Jukka Koskinen\"\n        }\n      ]\n    },\n    {\n      \"@type\": \"Organization\",\n      \"name\": \"Megadeth\",\n      \"type\": \"MusicGroup\",\n      \"currentMember\": {\n        \"@type\": \"Person\",\n        \"name\": \"Teemu Mäntysaari\"\n      }\n    },\n    {\n      \"@type\": \"Place\",\n      \"name\": \"Helsinki, Finland\",\n      \"type\": \"City\",\n      \"relationship\": {\n        \"type\": \"origin of\",\n        \"organization\": \"Wintersun\"\n      }\n    },\n    {\n      \"@type\": \"MusicGenre\",\n      \"name\": \"Heavy Metal\",\n      \"relationship\": {\n        \"type\": \"associated with\",\n        \"organizations\": [\n          {\n            \"@type\": \"Organization\",\n            \"name\": \"Wintersun\"\n          },\n          {\n            \"@type\": \"Organization\",\n            \"name\": \"Megadeth\"\n          },\n          {\n            \"@type\": \"Organization\",\n            \"name\": \"Nightwish\"\n          }\n        ]\n      }\n    },\n    {\n      \"@type\": \"MusicGenre\",\n      \"name\": \"Folk Metal\",\n      \"relationship\": {\n        \"type\": \"associated with\",\n        \"organization\": {\n          \"@type\": \"Organization\",\n          \"name\": \"Ensiferum\"\n        }\n      }\n    },\n    {\n      \"@type\": \"MusicGenre\",\n      \"name\": \"Symphonic Metal\",\n      \"relationship\": {\n        \"type\": \"associated with\",\n        \"organization\": {\n          \"@type\": \"Organization\",\n          \"name\": \"Nightwish\"\n        }\n      }\n    }\n  ]\n}\n```",
              "usage": {
                "prompt_tokens": 891,
                "completion_tokens": 1043,
                "total_tokens": 1934
              },
              "timingMs": 8759
            }
          ]
        }
      ]
    },
    "connectsTo": [],
    "expanded": true
  },
  "steps": [
    {
      "id": "extract-entities-and-relations",
      "name": "Extract Entities and Relations",
      "description": "This step utilizes an LLM to extract a comprehensive list of entities and their relationships from each document, capturing key insights and connections.",
      "type": "llm",
      "input": "doc",
      "prompt": "Extract and provide a comprehensive list of entities mentioned in the document, along with their relationships. Clearly differentiate between the types of entities (e.g., people, organizations, locations, concepts) and specify how these entities are connected to one another, highlighting key insights and connections found within the text. Ensure the output is structured and easy to read.",
      "connectsTo": [
        "convert-to-json-ld"
      ],
      "expanded": true
    },
    {
      "id": "convert-to-json-ld",
      "name": "Convert to JSON-LD",
      "description": "This step converts the extracted entities and relationships into the JSON-LD format, making the data structured and ready for semantic web applications.",
      "type": "llm",
      "input": "result",
      "prompt": "Convert the provided document's content into JSON-LD format. Identify and extract all relevant entities and their relationships from the text. Structure this information according to the JSON-LD specification, ensuring it is ready for use in semantic web applications. Provide the final JSON-LD output only, without any additional commentary or the original text document.",
      "connectsTo": [
        "output_0"
      ],
      "expanded": true
    }
  ]
}